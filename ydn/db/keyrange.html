---
layout: ydn-api
description: "Getting started with YDN-DB javascript module"
title: "Class ydn.db.KeyRange"
article:
  written_on: 2014-04-01
  updated_on: 2014-04-28
  order: 6
collection: "ydn.db"
namespace: "ydn.db"
---

<h2 class="classTitle">Class ydn.db.KeyRange</h2>
<p> Platform independent implementation of <a href="http://www.w3.org/TR/IndexedDB/#range-concept">IDBKeyRange</a>
  with few helper functions. </p>
<p>A key range is a continuous segment of keys defined by interval by
  using lower and upper bound.<br>
</p>
<p>To retrieve all keys within a certain interval, you can construct a key
  range as follow: </p>
<table class="gridtable">
  <thead>
  <tr>
    <th>Range</th>
    <th>Code</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>All keys ? <strong>x</strong></td>
    <td><code>ydn.db.KeyRange.upperBound(<strong>x</strong>)</code> </td>
  </tr>
  <tr>
    <td>All keys &lt; <strong>x</strong></td>
    <td><code>ydn.db.KeyRange.upperBound(<strong>x</strong>, true) </code>
    </td>
  </tr>
  <tr>
    <td>All keys ? <strong>y</strong></td>
    <td><code>ydn.db.KeyRange.lowerBound(<strong>y</strong>)</code> </td>
  </tr>
  <tr>
    <td>All keys &gt; <strong>y</strong></td>
    <td><code>ydn.db.KeyRange.lowerBound(<strong>y</strong>, true)</code></td>
  </tr>
  <tr>
    <td>All keys ? <strong>x</strong> &amp;&amp; ? <strong>y</strong></td>
    <td><code>ydn.db.KeyRange.bound(<strong>x</strong>, <strong>y</strong>)</code></td>
  </tr>
  <tr>
    <td>All keys &gt; <strong>x</strong> &amp;&amp;&lt; <strong>y</strong></td>
    <td><code>ydn.db.KeyRange.bound(<strong>x</strong>, <strong>y</strong>,
      true, true)</code></td>
  </tr>
  <tr>
    <td>All keys &gt; <strong>x</strong> &amp;&amp; ? <strong>y</strong></td>
    <td><code>ydn.db.KeyRange.bound(<strong>x</strong>, <strong>y</strong>,
      true, false)</code></td>
  </tr>
  <tr>
    <td>All keys ? <strong>x</strong> &amp;&amp;&lt; <strong>y</strong></td>
    <td><code>ydn.db.KeyRange.bound(<strong>x</strong>, <strong>y</strong>,
      false, true)</code></td>
  </tr>
  <tr>
    <td>The key = <strong>z</strong></td>
    <td><code>ydn.db.KeyRange.only(<strong>z</strong>)</code></td>
  </tr>
  <tr>
    <td>All (string or array) keys start with <strong>a</strong></td>
    <td><code>ydn.db.KeyRange.starts(<strong>a</strong>)</code></td>
  </tr>
  </tbody>
</table>
<br>
<div class="sectionTitle"> Constructor </div>
<a name="constructor"></a> <details> <summary>
  <div class="fixedFont"> <b>ydn.db.KeyRange</b>(lower, upper,
    lowerOpen, upperOpen) <span class="version">version 1</span></div>
  <div class="description"> Create a key range object. </div>
</summary>
  <div class="details">Example:
    <pre>var k1 = new ydn.db.KeyRange(10, 20, false, true);</pre>
    Lower bound and upper bound are either of <em>string</em>, <em>number</em>,
    <em>Date</em> or simple <em>Array</em>. This union type is annotated
    as <em>IDbKey</em> thourght out this API documentation. For complete
    description of valid key value, see <a href="http://www.w3.org/TR/IndexedDB/#key-construct">IndexedDB
      key structure</a>.
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{IDbKey=}</span> <b>lower</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> The
        value of the lower bound. </dd>
      <dt><span class="light fixedFont optional">{IDbKey=}</span> <b>upper</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> The
        value of the upper bound. </dd>
      <dt><span class="light fixedFont optional">{boolean=}</span> <b>lowerOpen</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> If true,
        the range excludes the lower bound value. </dd>
      <dt><span class="light fixedFont optional">{boolean=}</span> <b>upperOpen</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> If true,
        the range excludes the upper bound value. </dd>
    </dl>
  </div>
</details>
<div class="sectionTitle">Fields </div>
<a name="id"></a> <details> <summary>
  <div class="fixedFont"> <b>lower</b> <span class="light fixedFont optional">
              = {IDbKey|undefined}</span> </div>
  <div class="description"> The value of the lower bound.</div>
</summary></details>
<hr> <details> <summary>
  <div class="fixedFont"> <b>upper</b> <span class="light fixedFont optional">
              = {IDbKey|undefined}</span> </div>
  <div class="description"> The value of the upper bound.</div>
</summary></details>
<hr> <details> <summary>
  <div class="fixedFont"> <b>lowerOpen</b> <span class="light fixedFont optional">
              = {boolean|undefined}</span> </div>
  <div class="description"> If true, the range excludes the lower bound
    value.</div>
</summary></details>
<hr> <details> <summary>
  <div class="fixedFont"> <b>upperOpen</b> <span class="light fixedFont optional">
              = {boolean|undefined}</span> </div>
  <div class="description"> If true, the range excludes the upper bound
    value.</div>
</summary></details> <br>
<div class="sectionTitle">Methods </div>
<a name="bound"></a> <details> <summary>
  <div class="fixedFont"><b>bound</b>(lower, upper, lowerOpen,
    upperOpen) </div>
  <div class="description"> Create <code>ydn.db.Key</code> object using
    factory pattern. </div>
</summary>
  <div class="details">
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{IDbKey=}</span> <b>lower</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> The
        value of the lower bound. </dd>
      <dt><span class="light fixedFont optional">{IDbKey=}</span> <b>upper</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> The
        value of the upper bound. </dd>
      <dt><span class="light fixedFont optional">{boolean=}</span> <b>lowerOpen</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> If true,
        the range excludes the lower bound value. </dd>
      <dt><span class="light fixedFont optional">{boolean=}</span> <b>upperOpen</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> If true,
        the range excludes the upper bound value. </dd>
    </dl>
  </div>
</details>
<hr> <a name="lowerBound"></a> <details> <summary>
  <div class="fixedFont"><b>lowerBound</b>(lower, lowerOpen) </div>
  <div class="description"> Creates a key range with a lower bound only,
    finishes at the last record. </div>
</summary>
  <div class="details">
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{IDbKey}</span> <b>lower</b></dt>
      <dd>The value of the lower bound. </dd>
      <dt><span class="light fixedFont optional">{boolean=}</span> <b>lowerOpen</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> If true,
        the range excludes the lower bound value. </dd>
    </dl>
  </div>
</details>
<hr> <a name="only"></a> <details> <summary>
  <div class="fixedFont"><b>only</b>(value) </div>
  <div class="description"> Creates a new key range for a single value.
  </div>
</summary>
  <div class="details">
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{IDbKey}</span> <b>value</b></dt>
      <dd> The single value in the range. </dd>
    </dl>
  </div>
</details>
<hr> <a name="upperBound"></a> <details> <summary>
  <div class="fixedFont"><b>upperBound</b>(lower, lowerOpen) </div>
  <div class="description"> Creates a key range with a upper bound only,
    starts at the first record. </div>
</summary>
  <div class="details">
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{IDbKey}</span> <b>upper</b></dt>
      <dd> The value of the lower bound. </dd>
      <dt><span class="light fixedFont optional">{boolean=}</span> <b>upperOpen</b></dt>
      <dd><span class="light fixedFont optional">Optional.</span> If true,
        the range excludes the upper bound value. </dd>
    </dl>
  </div>
</details>
<hr> <a name="starts"></a> <details> <summary>
  <div class="fixedFont"><b>starts</b>(value) </div>
  <div class="description"> Creates a key range having a starting value.
  </div>
</summary>
  <div class="details"> The following key range include all key starting
    'abc', such as 'abcd', 'abcz', etc.
    <pre>var keys_starts_with_abc = ydn.db.Key.starts('abc'); </pre>
    The following key range include all key of array value with first
    element is [5], such as [5, 'a'], [5, 1], etc.
    <pre>var array_keys_with_element_5 = ydn.db.Key.starts([5]); </pre>
    Similarly,
    <pre>var array_keys_with_element_abc = ydn.db.Key.starts(['abc']); </pre>
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{string|Array}</span> <b>value</b></dt>
      <dd> The starting value. </dd>
    </dl>
  </div>
</details>
<hr> <a name="toJSON"></a> <details> <summary>
  <div class="fixedFont"><b>toJSON</b>() </div>
  <div class="description"> Get key in JSON format. </div>
</summary>
  <dl class="detailList">
    <dt class="heading">Returns:</dt>
    <dd><span class="light fixedFont">{!Object}</span> object JSON object.</dd>
  </dl>
</details>

<br /><div class="g-comments"></div>