---
layout: ydn-api
description: "Getting started with YDN-DB javascript module"
title: "Class ydn.api.App"
article:
  written_on: 2014-04-01
  updated_on: 2014-04-28
  order: 1
collection: "ydn.api"
namespace: "ydn.api"
---


  <h2 class="classTitle">Class ydn.api.App</h2>
  <p>YDN client side Javascript application. </p>
  <details><summary><a name="constructor"></a>
    <div class="sectionTitle"> Constructor </div>
    <div class="fixedFont"> <b>ydn.api.App</b>(options) </div>
    <div class="description"> Create an application supporting
      authentication, authorization and data storage.</div>
  </summary>
    <div class="details">
      <dl class="detailList">
        <dt class="heading">Parameters:</dt>
        <dt><span class="light fixedFont optional">{!Object}</span> <b>options</b>
        </dt>
        <dd>Application options having fields as follow:
          <ul>
            <li><span class="light fixedFont">{string}</span> <code>appId</code>:
              Application id </li>
            <li><span class="light fixedFont">{string=}</span> <code>loginServerOrigin</code>:
              Optional, login server origin. Eg: <code>https://gae-login-server.appspot.com</code>
            </li>
            <li><span class="light fixedFont">{string=}</span> <code>authServerOrigin</code>:
              Optional, authorization server origin. Eg: <code>https://api.yathit.com</code>
            </li>
            <li><span class="light fixedFont">{string=}</span> <code>proxyServerOrigin</code>:
              Optional, proxy server origin. Eg: <code>https://api.yathit.com</code>
            </li>
            <li><span class="light fixedFont">{Object=}</span> <code>OpenIdClient</code>:
              Optional, OpenID client details having fields of <code>end_point</code>,
              <code>client_id</code>, <code>redirect_url</code>, <code>scope</code>,
              <code>verify_url</code> </li>
          </ul>
          Either <code>login_server_url</code> or <code>openid_client</code>
          must be specified. </dd>
            <pre>var options = {
  appId: 'test',
  loginServerOrigin: 'https://gae-login-server.appspot.com'
};
var app = new ydn.api.App(options);
</pre>
      </dl>
    </div>
  </details>
  <div class="sectionTitle"> Methods </div>
  <details> <summary> <a name="getAppDb"></a>
    <div class="fixedFont"> <b>getAppDb</b>() </div>
    <div class="description"> Get app storage. </div>
  </summary>
    <dl class="detailList">
      <dt class="heading">Returns:</dt>
      <dd><span class="light fixedFont">{!ydn.db.Storage}</span>App storage
        object. </dd>
    </dl>
  </details>
  <hr> <details> <summary> <a name="getUser"></a>
  <div class="fixedFont"> <b>getUser</b>() </div>
  <div class="description"> Get user object. User may be login or may
    not login. </div>
</summary>
  <dl class="detailList">
    <dt class="heading">Returns:</dt>
    <dd><span class="light fixedFont">{!ydn.api.User}</span>User object. </dd>
  </dl>
</details>
  <hr> <details> <summary> <a name="getUserAssess"></a>
  <div class="fixedFont"> <b>getUserAssess</b>() </div>
  <div class="description"> Get user assess object. </div>
</summary>
  <p>User assess contains authorization credentials.</p>
  <dl class="detailList">
    <dt class="heading">Returns:</dt>
    <dd><span class="light fixedFont">{!ydn.api.UserAssess}</span>User
      assess object. </dd>
  </dl>
</details>
  <hr> <details> <summary> <a name="getUserDb"></a>
  <div class="fixedFont"> <b>getUserDb</b>() </div>
  <div class="description"> Get user storage. </div>
</summary>
  <dl class="detailList">
    <dt class="heading">Returns:</dt>
    <dd><span class="light fixedFont">{!ydn.db.Storage}</span>User storage
      object. </dd>
  </dl>
</details>
  <hr> <details> <summary> <a name="run"></a>
  <div class="fixedFont"> <b>run</b>() </div>
  <div class="description"> Run the application. </div>
</summary>
  <div class="detials"> Running the application will carried the following
    steps:
    <ol>
      <li>Load previous client session if exists</li>
      <li>If session exists, initialize the database and restore
        application variables including user object.</li>
      <li>Invoke <code>refresh</code> methods to all presenters.</li>
      <li>Send non-interactive login request</li>
      <li>If received from server login respond, it can be either logout
        or login, depending on server session state, relevant presenters
        dispatch events and refresh their display.</li>
    </ol>
  </div>
</details>

<br /><div class="g-comments"></div>